<div class="sidebar" id="sidebar">
    <div class="sidebar-inner slimscroll">
        <div id="sidebar-menu" class="sidebar-menu">
            <ul>
                <li class="active"> 
                    <a href="/portal/dashboard"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a> 
                </li>
                <li class="list-divider"></li>

                <% if (roleName === 'hotel receptionist' || roleName === 'ceo' || roleName === "hotelmanager") { %>
                <li class="submenu"> 
                    <a href="#"><i class="fas fa-suitcase"></i> <span> Booking </span> <span class="menu-arrow"></span></a>
                    <ul class="submenu_class" style="display: none;">
                        <li><a href="/portal/all-booking"> All Booking </a></li>
                        <li><a href="/portal/add-booking"> Add Booking </a></li>
                        <li><a href="/portal/check-booking"> Check Booking </a></li>
                    </ul>
                </li>
                <% } %>

                <% if (roleName === 'hotel receptionist' || roleName === 'ceo' || roleName === "hotelmanager") { %>
                <li class="submenu"> 
                    <a href="#"><i class="fas fa-user"></i> <span> Customers </span> <span class="menu-arrow"></span></a>
                    <ul class="submenu_class" style="display: none;">
                        <li><a href="/portal/all-customer"> All Customers </a></li>
                    </ul>
                </li>
                <% } %>

                <% if (roleName === 'hotel receptionist' || roleName === 'ceo' || roleName === "hotelmanager") { %>
                <li class="submenu"> 
                    <a href="#"><i class="fas fa-key"></i> <span> Rooms </span> <span class="menu-arrow"></span></a>
                    <ul class="submenu_class" style="display: none;">
                        <li><a href="/portal/room-category">Room Categories </a></li>
                        <li><a href="/portal/all-rooms">All Rooms </a></li>
                    </ul>
                </li>
                <% } %>

                <% if (roleName === 'ceo' || roleName === "hotelmanager") { %>
                <li class="submenu"> 
                    <a href="#"><i class="fas fa-user"></i> <span> Staff </span> <span class="menu-arrow"></span></a>
                    <ul class="submenu_class" style="display: none;">
                        <li><a href="/portal/all-staff"> All Staff </a></li>
                        <li><a href="/portal/add-staff"> Add Staff </a></li>
                    </ul>
                </li>
                <% } %>

                <% if (roleName === 'ceo' || roleName === 'bar manager' || roleName === "hotelmanager") { %>
                <li class="submenu"> 
                    <a href="/portal/bar"><i class="fa-solid fa-wine-bottle"></i> <span> Bar </span> <span class="menu-arrow"></span></a>
                    <ul class="submenu_class" style="display: none;">
						<% if (roleName === 'ceo' || roleName === 'bar manager') { %>
							<li><a href="/portal/bar">Bar</a></li>
							<% } %>
                        <li><a href="/portal/bar-records">All Sales</a></li>
						<% if (roleName === 'ceo' || roleName === 'hotelmanager') { %>
							<!-- <li><a href="/portal/bar">Bar</a></li> -->
							<li><a href="/portal/bar-all-drinks">All Drinks</a></li>
							<% } %>
                    </ul>
                </li>
                <% } %>

                <% if (roleName === 'ceo') { %>
                <li> 
                    <a href="/portal/info-promotion"><i class="fas fa-audio-description"></i> <span>Promotions</span></a> 
                </li>
                <% } %>
                <% if (roleName === 'ceo') { %>
                <li> 
                    <a href="/portal/payment-mode"><i class="far fa-money-bill-alt"></i> <span>Payment Mode</span></a> 
                </li>
                <% } %>
            </ul>
        </div>
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const currentUrl = window.location.pathname; // Get current path
    const menuItems = document.querySelectorAll('#sidebar-menu a'); // Get all menu items (including submenus)

    menuItems.forEach(item => {
        const href = item.getAttribute('href');
        if (href === currentUrl) {
            // Add 'active' class to the <li> that contains the active link
            const parentLi = item.closest('li');
            parentLi.classList.add('active');

            // If the active link is within a submenu, expand the parent submenu
            const submenu = item.closest('.submenu');
            if (submenu) {
                submenu.querySelector('ul').style.display = 'block'; // Expand the parent submenu
            }

            // Ensure no background color or active class is added to submenu items
            item.classList.remove('active');
        }
    });
});



</script>
